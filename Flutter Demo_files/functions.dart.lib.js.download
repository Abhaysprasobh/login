// Generated by DDC, the Dart Development Compiler (to JavaScript).
// Version: 3.3.3 (stable) (Tue Mar 26 14:21:33 2024 +0000) on "windows_x64"
// Module: packages/collection/src/functions.dart
// Flags: newRuntimeTypes(true), soundNullSafety(true), enableAsserts(true)
define(['dart_sdk', 'packages/collection/src/utils.dart'], (function load__packages__collection__src__functions_dart(dart_sdk, packages__collection__src__utils$46dart) {
  'use strict';
  const dart_rti = dart_sdk.dart_rti;
  const core = dart_sdk.core;
  const _js_helper = dart_sdk._js_helper;
  const collection = dart_sdk.collection;
  const _interceptors = dart_sdk._interceptors;
  const math = dart_sdk.math;
  const dart = dart_sdk.dart;
  const dartx = dart_sdk.dartx;
  const utils = packages__collection__src__utils$46dart.src__utils;
  var functions = Object.create(dart.library);
  var $_set = dartx._set;
  var $forEach = dartx.forEach;
  var $addAll = dartx.addAll;
  var $containsKey = dartx.containsKey;
  var $_get = dartx._get;
  var $add = dartx.add;
  var $keys = dartx.keys;
  var $toList = dartx.toList;
  var $removeLast = dartx.removeLast;
  var $reversed = dartx.reversed;
  dart._checkModuleNullSafetyMode(true);
  dart._checkModuleRuntimeTypes(true);
  var T$ = {
    ObjectNAndObjectNToint: () => (T$.ObjectNAndObjectNToint = dart.constFn(dart_rti.findType("core|int(core|Object?,core|Object?)")))(),
    int: () => (T$.int = dart.constFn(dart_rti.findType("core|int")))()
  };
  const CT = Object.create({
    _: () => (C, CT)
  });
  dart.defineLazy(CT, {
    get C0() {
      return C[0] = dart.fn(utils.defaultCompare, T$.ObjectNAndObjectNToint());
    }
  }, false);
  var C = [void 0];
  var _as = dart.privateName(dart_rti, "_as");
  var _eval = dart.privateName(dart_rti, "_eval");
  var _bind = dart.privateName(dart_rti, "_bind");
  functions.mapMap = function mapMap(K1, V1, K2, V2, map, opts) {
    let t$360, t$360$;
    let key = opts && 'key' in opts ? opts.key : null;
    let value = opts && 'value' in opts ? opts.value : null;
    let keyFn = (t$360 = key, t$360 == null ? dart.fn((mapKey, _) => K2[_as](mapKey), K1[_eval]("@<0>")[_bind](V1)[_bind](K2)[_eval]("3(1,2)")) : t$360);
    let valueFn = (t$360$ = value, t$360$ == null ? dart.fn((_, mapValue) => V2[_as](mapValue), K1[_eval]("@<0>")[_bind](V1)[_bind](V2)[_eval]("3(1,2)")) : t$360$);
    let result = new (_js_helper.LinkedMap$(K2, V2)).new();
    map[$forEach](dart.fn((mapKey, mapValue) => {
      result[$_set](keyFn(mapKey, mapValue), valueFn(mapKey, mapValue));
    }, K1[_eval]("@<0>")[_bind](V1)[_eval]("~(1,2)")));
    return result;
  };
  functions.mergeMaps = function mergeMaps(K, V, map1, map2, opts) {
    let t$360;
    let value = opts && 'value' in opts ? opts.value : null;
    let result = collection.LinkedHashMap$(K, V).of(map1);
    if (value == null) {
      t$360 = result;
      return (() => {
        t$360[$addAll](map2);
        return t$360;
      })();
    }
    map2[$forEach](dart.fn((key, mapValue) => {
      result[$_set](key, result[$containsKey](key) ? value(V[_as](result[$_get](key)), mapValue) : mapValue);
    }, K[_eval]("@<0>")[_bind](V)[_eval]("~(1,2)")));
    return result;
  };
  functions.lastBy = function lastBy(S, T, values, key) {
    return (() => {
      let t$360 = new (_js_helper.LinkedMap$(T, S)).new();
      for (let element of values)
        t$360[$_set](key(element), element);
      return t$360;
    })();
  };
  functions.groupBy = function groupBy(S, T, values, key) {
    let t$364, t$363, t$362, t$361;
    let map = new (_js_helper.LinkedMap$(T, S[_eval]("core|List<0>"))).new();
    for (let element of values) {
      (t$361 = map, t$362 = key(element), t$363 = t$361[$_get](t$362), t$363 == null ? (t$364 = _interceptors.JSArray$(S).of([]), t$361[$_set](t$362, t$364), t$364) : t$363)[$add](element);
    }
    return map;
  };
  functions.minBy = function minBy(S, T, values, orderBy, opts) {
    let compare = opts && 'compare' in opts ? opts.compare : null;
    compare == null ? compare = C[0] || CT.C0 : null;
    let minValue = null;
    let minOrderBy = null;
    for (let element of values) {
      let elementOrderBy = orderBy(element);
      if (minOrderBy == null || compare(elementOrderBy, minOrderBy) < 0) {
        minValue = element;
        minOrderBy = elementOrderBy;
      }
    }
    return minValue;
  };
  functions.maxBy = function maxBy(S, T, values, orderBy, opts) {
    let compare = opts && 'compare' in opts ? opts.compare : null;
    compare == null ? compare = C[0] || CT.C0 : null;
    let maxValue = null;
    let maxOrderBy = null;
    for (let element of values) {
      let elementOrderBy = orderBy(element);
      if (maxOrderBy == null || compare(elementOrderBy, maxOrderBy) > 0) {
        maxValue = element;
        maxOrderBy = elementOrderBy;
      }
    }
    return maxValue;
  };
  functions.transitiveClosure = function transitiveClosure(T, graph) {
    let result = new (_js_helper.LinkedMap$(T, T[_eval]("core|Set<0>"))).new();
    graph[$forEach](dart.fn((vertex, edges) => {
      result[$_set](vertex, collection.LinkedHashSet$(T).from(edges));
    }, T[_eval]("~(0,core|Iterable<0>)")));
    let keys = graph[$keys][$toList]();
    for (let vertex1 of keys) {
      for (let vertex2 of keys) {
        for (let vertex3 of keys) {
          if (dart.nullCheck(result[$_get](vertex2)).contains(vertex1) && dart.nullCheck(result[$_get](vertex1)).contains(vertex3)) {
            dart.nullCheck(result[$_get](vertex2)).add(vertex3);
          }
        }
      }
    }
    return result;
  };
  functions.stronglyConnectedComponents = function stronglyConnectedComponents(T, graph) {
    let index = 0;
    let stack = _interceptors.JSArray$(T[_eval]("0?")).of([]);
    let result = _interceptors.JSArray$(T[_eval]("core|Set<0>")).of([]);
    let indices = new (_js_helper.LinkedMap$(T, T$.int())).new();
    let lowLinks = new (_js_helper.LinkedMap$(T, T$.int())).new();
    let onStack = new (collection._HashSet$(T)).new();
    function strongConnect(vertex) {
      indices[$_set](vertex, index);
      lowLinks[$_set](vertex, index);
      index = index + 1;
      stack[$add](vertex);
      onStack.add(vertex);
      for (let successor of dart.nullCheck(graph[$_get](vertex))) {
        if (!indices[$containsKey](successor)) {
          strongConnect(successor);
          lowLinks[$_set](vertex, math.min(T$.int(), dart.nullCheck(lowLinks[$_get](vertex)), dart.nullCheck(lowLinks[$_get](successor))));
        } else if (onStack.contains(successor)) {
          lowLinks[$_set](vertex, math.min(T$.int(), dart.nullCheck(lowLinks[$_get](vertex)), dart.nullCheck(lowLinks[$_get](successor))));
        }
      }
      if (lowLinks[$_get](vertex) == indices[$_get](vertex)) {
        let component = collection.LinkedHashSet$(T).new();
        let neighbor = null;
        do {
          neighbor = stack[$removeLast]();
          onStack.remove(neighbor);
          component.add(T[_as](neighbor));
        } while (!dart.equals(neighbor, vertex));
        result[$add](component);
      }
    }
    dart.fn(strongConnect, T[_eval]("~(0)"));
    for (let vertex of graph[$keys]) {
      if (!indices[$containsKey](vertex)) strongConnect(vertex);
    }
    return result[$reversed][$toList]();
  };
  dart.moduleConstCaches.set("packages/collection/src/functions.dart", C);
  dart_rti._Universe.addRules(dart.typeUniverse, JSON.parse('{"core|List":{"List.E":"1","Iterable.E":"1","core|Iterable":["1"],"_ListIterable.E":"1","core|_ListIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"core|Iterable":{"Iterable.E":"1"},"core|_ListIterable":{"_ListIterable.E":"1","EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"],"Iterable.E":"1","core|Iterable":["1"]},"_internal|EfficientLengthIterable":{"EfficientLengthIterable.T":"1","Iterable.E":"1","core|Iterable":["1"]},"_internal|HideEfficientLengthIterable":{"HideEfficientLengthIterable.T":"1","Iterable.E":"1","core|Iterable":["1"]},"core|int":{"core|num":[],"Comparable.T":"core|num","core|Comparable":["core|num"]},"core|num":{"Comparable.T":"core|num","core|Comparable":["core|num"]},"core|Comparable":{"Comparable.T":"1"},"core|Set":{"Set.E":"1","Iterable.E":"1","core|Iterable":["1"],"_SetIterable.E":"1","core|_SetIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"core|_SetIterable":{"_SetIterable.E":"1","EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"],"Iterable.E":"1","core|Iterable":["1"]}}'));
  dart.trackLibraries("packages/collection/src/functions.dart", {
    "package:collection/src/functions.dart": functions
  }, {
  }, '{"version":3,"sourceRoot":"","sources":["functions.dart"],"names":[],"mappings":"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","file":"../../../../../../../../../../../../F:/packages/collection/src/functions.dart.lib.js"}');
  // Exports:
  return {
    src__functions: functions
  };
}));

//# sourceMappingURL=functions.dart.lib.js.map
